00:10:37 INFO: Starting new run 20201103-001037, using configuration "compare-316"
00:10:37 INFO: using configuration file "conf/tests/compare-316.yml"
00:10:37 INFO: Starting test-case: compare-316::qgis316-bigfile-fastread ({'active': True, 'template': 'docker-compose-qgis-3-nginx', 'path-prefix': 'ogc', 'compose-variables': {'QGIS_VERSION': '3.16', 'QGIS_REPLICAS': '1', 'QGIS_SERVER_CACHE_SIZE': '50', 'QGIS_SERVER_PARALLEL_RENDERING': '"true"', 'QGIS_SERVER_MAX_THREADS': '6', 'PG_SERVICE': 'pg_service.conf', 'QGIS_SERVER_TRUST_LAYER_METADATA': '"true"', 'QGIS_SERVER_DISABLE_GETPRINT': '"true"'}, 'projects': {'somap316_fix': ['lk.txt', 'av_f.txt', 'av_sw.txt']}, 'inherit': 'qgis316-bigfile'})
00:10:37 INFO: Deploying qgis316-bigfile-fastread
00:10:37 DEBUG: Executing: docker stack deploy -c ./deploy/docker-compose.yml -c ./conf/qgis/docker-compose-qgis-base.yml -c ./conf/qgis/docker-compose-qgis-3-nginx.yml bench
00:10:47 DEBUG: b'Updating service bench_postgis-testenv (id: fvu79dai7m21qry4ts0rjjjca)\nUpdating service bench_qgis-server (id: ywm76dqy8kc2tt9vj14wlgy5l)\nUpdating service bench_perfmon-agent (id: whwa31l7z3xekfon6i44efxh3)\nUpdating service bench_pgadmin (id: hwibeh351dsdkgj3u7npk3e5k)\n'
00:10:57 INFO: Probing http://localhost:8080/ogc/somap316_fix?SERVICE=WMS&REQUEST=GetCapabilities
00:10:57 DEBUG: Starting new HTTP connection (1): localhost:8080
00:10:57 DEBUG: Incremented Retry for (url='/ogc/somap316_fix?SERVICE=WMS&REQUEST=GetCapabilities'): Retry(total=5, connect=None, read=None, redirect=None, status=None)
00:10:57 WARNING: Retrying (Retry(total=5, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fb4ff8f0580>: Failed to establish a new connection: [Errno 111] Connection refused')': /ogc/somap316_fix?SERVICE=WMS&REQUEST=GetCapabilities
00:10:57 DEBUG: Starting new HTTP connection (2): localhost:8080
00:10:57 DEBUG: Incremented Retry for (url='/ogc/somap316_fix?SERVICE=WMS&REQUEST=GetCapabilities'): Retry(total=4, connect=None, read=None, redirect=None, status=None)
00:10:59 WARNING: Retrying (Retry(total=4, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fb4ff8f0850>: Failed to establish a new connection: [Errno 111] Connection refused')': /ogc/somap316_fix?SERVICE=WMS&REQUEST=GetCapabilities
00:10:59 DEBUG: Starting new HTTP connection (3): localhost:8080
00:11:33 DEBUG: http://localhost:8080 "GET /ogc/somap316_fix?SERVICE=WMS&REQUEST=GetCapabilities HTTP/1.1" 500 54
00:11:33 INFO: Starting tests for compare-316 qgis316-bigfile-fastread lk.txt
00:11:33 DEBUG: Executing: jmeter -n -t /io/test_plan_qgis3.jmx -Jbaseurl=qgis-server -Jport=80 -Jthreads=10 -Jfilename=/urls.txt -l /result/result.jtl -e -o /result/dashboard/ -Jperfmonfile=/result/perfmon.jtl -j /result/log.log -LDEBUG -Jprojectpath=ogc/somap316_fix
00:11:33 DEBUG: Trying paths: ['/home/ubuntu/.docker/config.json', '/home/ubuntu/.dockercfg']
00:11:33 DEBUG: No config file found
00:11:33 DEBUG: Trying paths: ['/home/ubuntu/.docker/config.json', '/home/ubuntu/.dockercfg']
00:11:33 DEBUG: No config file found
00:11:34 DEBUG: http://localhost:None "POST /v1.35/containers/create HTTP/1.1" 201 88
00:11:34 DEBUG: http://localhost:None "GET /v1.35/containers/28cb43b0633b9b7d23dcb70b36808b73c97e94edcc62fc9b242417af7964e0ae/json HTTP/1.1" 200 None
00:11:34 DEBUG: http://localhost:None "POST /v1.35/containers/28cb43b0633b9b7d23dcb70b36808b73c97e94edcc62fc9b242417af7964e0ae/start HTTP/1.1" 204 0
00:11:34 DEBUG: http://localhost:None "GET /v1.35/containers/28cb43b0633b9b7d23dcb70b36808b73c97e94edcc62fc9b242417af7964e0ae/logs?stderr=0&stdout=1&timestamps=0&follow=1&tail=all HTTP/1.1" 200 None
00:11:34 DEBUG: http://localhost:None "GET /v1.35/containers/28cb43b0633b9b7d23dcb70b36808b73c97e94edcc62fc9b242417af7964e0ae/json HTTP/1.1" 200 None
00:11:34 DEBUG: http://localhost:None "POST /v1.35/containers/28cb43b0633b9b7d23dcb70b36808b73c97e94edcc62fc9b242417af7964e0ae/wait HTTP/1.1" 200 None
00:14:13 DEBUG: START Running Jmeter on Tue Nov  3 00:11:34 UTC 2020
JVM_ARGS=-Xmn3270m -Xms13080m -Xmx13080m
jmeter args=-n -t /io/test_plan_qgis3.jmx -Jbaseurl=qgis-server -Jport=80 -Jthreads=10 -Jfilename=/urls.txt -l /result/result.jtl -e -o /result/dashboard/ -Jperfmonfile=/result/perfmon.jtl -j /result/log.log -LDEBUG -Jprojectpath=ogc/somap316_fix
Creating summariser <summary>
Created the tree successfully using /io/test_plan_qgis3.jmx
Starting standalone test @ Tue Nov 03 00:11:36 GMT 2020 (1604362296745)
Waiting for possible Shutdown/StopTestNow/HeapDump/ThreadDump message on port 4445
summary =     30 in 00:02:35 =    0.2/s Avg: 27159 Min:     1 Max: 120172 Err:    30 (100.00%)
Tidying up ...    @ Tue Nov 03 00:14:12 GMT 2020 (1604362452112)
... end of run
END Running Jmeter on Tue Nov  3 00:14:13 UTC 2020

00:14:13 INFO: Done in 00h 02m 39s
00:14:13 INFO: Starting tests for compare-316 qgis316-bigfile-fastread av_f.txt
00:14:13 DEBUG: Executing: jmeter -n -t /io/test_plan_qgis3.jmx -Jbaseurl=qgis-server -Jport=80 -Jthreads=10 -Jfilename=/urls.txt -l /result/result.jtl -e -o /result/dashboard/ -Jperfmonfile=/result/perfmon.jtl -j /result/log.log -LDEBUG -Jprojectpath=ogc/somap316_fix
00:14:13 DEBUG: Trying paths: ['/home/ubuntu/.docker/config.json', '/home/ubuntu/.dockercfg']
00:14:13 DEBUG: No config file found
00:14:13 DEBUG: Trying paths: ['/home/ubuntu/.docker/config.json', '/home/ubuntu/.dockercfg']
00:14:13 DEBUG: No config file found
00:14:13 DEBUG: http://localhost:None "POST /v1.35/containers/create HTTP/1.1" 201 88
00:14:13 DEBUG: http://localhost:None "GET /v1.35/containers/9edf26a301bfe2dcc20a177ed6efa571d3949f79579c7b3ee517867547ce4450/json HTTP/1.1" 200 None
00:14:14 DEBUG: http://localhost:None "POST /v1.35/containers/9edf26a301bfe2dcc20a177ed6efa571d3949f79579c7b3ee517867547ce4450/start HTTP/1.1" 204 0
00:14:14 DEBUG: http://localhost:None "GET /v1.35/containers/9edf26a301bfe2dcc20a177ed6efa571d3949f79579c7b3ee517867547ce4450/logs?stderr=0&stdout=1&timestamps=0&follow=1&tail=all HTTP/1.1" 200 None
00:14:14 DEBUG: http://localhost:None "GET /v1.35/containers/9edf26a301bfe2dcc20a177ed6efa571d3949f79579c7b3ee517867547ce4450/json HTTP/1.1" 200 None
00:14:14 DEBUG: http://localhost:None "POST /v1.35/containers/9edf26a301bfe2dcc20a177ed6efa571d3949f79579c7b3ee517867547ce4450/wait HTTP/1.1" 200 None
00:16:19 DEBUG: START Running Jmeter on Tue Nov  3 00:14:14 UTC 2020
JVM_ARGS=-Xmn3262m -Xms13048m -Xmx13048m
jmeter args=-n -t /io/test_plan_qgis3.jmx -Jbaseurl=qgis-server -Jport=80 -Jthreads=10 -Jfilename=/urls.txt -l /result/result.jtl -e -o /result/dashboard/ -Jperfmonfile=/result/perfmon.jtl -j /result/log.log -LDEBUG -Jprojectpath=ogc/somap316_fix
Creating summariser <summary>
Created the tree successfully using /io/test_plan_qgis3.jmx
Starting standalone test @ Tue Nov 03 00:14:16 GMT 2020 (1604362456589)
Waiting for possible Shutdown/StopTestNow/HeapDump/ThreadDump message on port 4445
summary =     22 in 00:02:01 =    0.2/s Avg:  5466 Min:     2 Max: 120075 Err:    22 (100.00%)
Tidying up ...    @ Tue Nov 03 00:16:17 GMT 2020 (1604362577640)
... end of run
END Running Jmeter on Tue Nov  3 00:16:19 UTC 2020

00:16:19 INFO: Done in 00h 02m 05s
00:16:19 INFO: Starting tests for compare-316 qgis316-bigfile-fastread av_sw.txt
00:16:19 DEBUG: Executing: jmeter -n -t /io/test_plan_qgis3.jmx -Jbaseurl=qgis-server -Jport=80 -Jthreads=10 -Jfilename=/urls.txt -l /result/result.jtl -e -o /result/dashboard/ -Jperfmonfile=/result/perfmon.jtl -j /result/log.log -LDEBUG -Jprojectpath=ogc/somap316_fix
00:16:19 DEBUG: Trying paths: ['/home/ubuntu/.docker/config.json', '/home/ubuntu/.dockercfg']
00:16:19 DEBUG: No config file found
00:16:19 DEBUG: Trying paths: ['/home/ubuntu/.docker/config.json', '/home/ubuntu/.dockercfg']
00:16:19 DEBUG: No config file found
00:16:19 DEBUG: http://localhost:None "POST /v1.35/containers/create HTTP/1.1" 201 88
00:16:19 DEBUG: http://localhost:None "GET /v1.35/containers/ce46a3455b8c4a09b4b3bb4c5e57dd2f8975b80ce88cb4307a2fb521e00eabfe/json HTTP/1.1" 200 None
00:16:20 DEBUG: http://localhost:None "POST /v1.35/containers/ce46a3455b8c4a09b4b3bb4c5e57dd2f8975b80ce88cb4307a2fb521e00eabfe/start HTTP/1.1" 204 0
00:16:20 DEBUG: http://localhost:None "GET /v1.35/containers/ce46a3455b8c4a09b4b3bb4c5e57dd2f8975b80ce88cb4307a2fb521e00eabfe/logs?stderr=0&stdout=1&timestamps=0&follow=1&tail=all HTTP/1.1" 200 None
00:16:20 DEBUG: http://localhost:None "GET /v1.35/containers/ce46a3455b8c4a09b4b3bb4c5e57dd2f8975b80ce88cb4307a2fb521e00eabfe/json HTTP/1.1" 200 None
00:16:20 DEBUG: http://localhost:None "POST /v1.35/containers/ce46a3455b8c4a09b4b3bb4c5e57dd2f8975b80ce88cb4307a2fb521e00eabfe/wait HTTP/1.1" 200 None
00:18:25 DEBUG: START Running Jmeter on Tue Nov  3 00:16:20 UTC 2020
JVM_ARGS=-Xmn3260m -Xms13040m -Xmx13040m
jmeter args=-n -t /io/test_plan_qgis3.jmx -Jbaseurl=qgis-server -Jport=80 -Jthreads=10 -Jfilename=/urls.txt -l /result/result.jtl -e -o /result/dashboard/ -Jperfmonfile=/result/perfmon.jtl -j /result/log.log -LDEBUG -Jprojectpath=ogc/somap316_fix
Creating summariser <summary>
Created the tree successfully using /io/test_plan_qgis3.jmx
Starting standalone test @ Tue Nov 03 00:16:22 GMT 2020 (1604362582344)
Waiting for possible Shutdown/StopTestNow/HeapDump/ThreadDump message on port 4445
summary =     20 in 00:02:01 =    0.2/s Avg:  6014 Min:     3 Max: 120126 Err:    20 (100.00%)
Tidying up ...    @ Tue Nov 03 00:18:23 GMT 2020 (1604362703435)
... end of run
END Running Jmeter on Tue Nov  3 00:18:24 UTC 2020

00:18:25 INFO: Done in 00h 02m 05s
00:18:25 INFO: test-case compare-316::qgis316-bigfile-fastread run completed in 00h 06m 51s


00:18:25 INFO: Generating stats
00:18:25 INFO: Finished run: compare-316 20201103-001037 in 00h 07m 47s
